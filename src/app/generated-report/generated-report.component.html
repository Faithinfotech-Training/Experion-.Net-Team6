<div class="container">
    <h5>Signed in as: {{loggedUser}}</h5>

</div>

<button style="width: 110px; float: right; background-color: #2297a0;" class="btn btn-primary form-control" (click)="logOut()">
    <i class="fa fa-share-square fa-1x" style="color: rgb(255, 255, 255); "></i> Log Out</button>
<br>
<br>
<hr>
<!--List of generated reports-->
<div class="container">
    <div class="form-group">
        <input class="form-control" type="text" placeholder="Search here..." style="width: 300px;" [(ngModel)]="filter">
        <br>
    </div>
    <br>
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Report ID</th>
                <th>Patiet Name</th>
                <th>Doctor Name</th>
                <th>Staff Name</th>
                <th>Date</th>
                <th>Test One</th>
                <th> Result</th>
                <th>Test Two</th>
                <th> Result</th>
                <th>Test Three</th>
                <th> Result</th>
                <th *ngIf="role=='3'">Action</th>

            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="let l of labReportService.generatedResults |filter:filter | paginate:{itemsPerPage:5,currentPage:page }">
                <td>{{l.LogId}}</td>
                <td>{{l.PatientName}}</td>
                <td>{{l.DoctorName}}</td>
                <td>{{l.StaffName}}</td>
                <td>{{l.DateOfAppointment | date:'dd/MM/yyyy'}}</td>
                <td>{{l.TestOneName}}</td>
                <td>{{l.ObservedResultOne}}</td>
                <td>{{l.TestTwoName}}</td>
                <td>{{l.ObservedResultTwo}}</td>
                <td>{{l.TestThreeName}}</td>
                <td>{{l.ObservedResultThree}}</td>

                <ng-template [ngIf]="role==3"><!--Only visible to lab technician-->
                    <td>
                        <button (click)="updateReport(l.LogId,l.LabReportId)" class="btn "
                            style="width: 47%;margin-right: 2px; background-color: #2297a0; color: white;">Edit</button>
                        <button (click)="generatepdf(l.LabReportId)" class="btn  "
                            style="width: 47%;background-color: #2297a0; color: white;">PDF</button>
                        <button (click)="emailLabReport(l.LabReportId)" class="btn mt-1"
                            style="width: 100%;background-color: #2297a0; color: white;">Email Report</button>
                    </td>
                </ng-template>
            </tr>

        </tbody>
    </table>
    <div>
        <!--Pagination-->
        <pagination-controls (pageChange)="page=($event)"></pagination-controls>
    </div>
</div>